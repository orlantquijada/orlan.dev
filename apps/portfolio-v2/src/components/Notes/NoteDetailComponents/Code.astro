---
import type { HTMLAttributes } from "astro/types";

type Props = HTMLAttributes<"code">;
const props = Astro.props;
---

<code {...props} class:list={[props.class]}><slot/></code>

<style>
	code:not(pre code) {
		backdrop-filter: blur(10px);
		background: var(--color-gray-a7);
		padding: 0.3rem 0.25rem;
		border-radius: 0.375rem;
		font-size: var(--text-xs) /* 0.75rem = 12px */;
		line-height: var(
			--tw-leading,
			var(--text-xs--line-height) /* calc(1 / 0.75) â‰ˆ 1.333333 */
		);
	}

	code {
		counter-reset: step;
		counter-increment: step 0;
	}

	:global(code .line::before) {
		content: counter(step);
		counter-increment: step;
		width: 1rem;
		margin-right: 1.5rem;
		display: inline-block;
		text-align: right;
    color: var(--color-gray-a6)
	}
</style>
