---
import type { InferGetStaticPropsType } from 'astro'
import NotesLayout from '@/layouts/NotesLayout.astro'
import { getCollection } from 'astro:content'

export async function getStaticPaths() {
  const notes = await getCollection('notes')
  return notes.map((note) => ({
    params: {
      slug: note.slug,
    },
    props: { note },
  }))
}

type Props = InferGetStaticPropsType<typeof getStaticPaths>
const { note } = Astro.props
---

<NotesLayout {...note} />
